<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>macOS Node.js development environment ของผม</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">macOS Node.js development environment ของผม</h1>
</header>
<section data-field="subtitle" class="p-summary">
หลังจากที่ผมได้เล่าของ PHP ไปแล้วจะขอต่อด้วย Node.js ซึ่งเป็นภาษาหลักที่ผมเขียนอยู่ในตอนนี้ ผมใช้ nvm ตัว Package manager…
</section>
<section data-field="body" class="e-content">
<section name="3b58" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="6225" id="6225" class="graf graf--figure graf--startsWithDoubleQuote graf--leading"><img class="graf-image" data-image-id="1*hFXwQxDMLdzUzftRnA95OQ.jpeg" data-width="2048" data-height="1536" src="https://cdn-images-1.medium.com/max/800/1*hFXwQxDMLdzUzftRnA95OQ.jpeg"><figcaption class="imageCaption">“กรรม ’โทษ แมวพิมพ์” ถ่ายไว้ตอนไปนั่งทำงานที่คาเฟ่แมว</figcaption></figure><h3 name="60e9" id="60e9" class="graf graf--h3 graf-after--figure graf--title">macOS Node.js development environment ของผม</h3><p name="ca92" id="ca92" class="graf graf--p graf-after--h3 graf--trailing">หลังจากที่ผมได้เล่าของ PHP ไปแล้วจะขอต่อด้วย Node.js ซึ่งเป็นภาษาหลักที่ผมเขียนอยู่ในตอนนี้ ผมใช้ <a href="https://github.com/creationix/nvm" data-href="https://github.com/creationix/nvm" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">nvm</a> ตัว Package manager ถ้าในเครื่องเองจะยังใช้ <a href="https://github.com/npm/npm" data-href="https://github.com/npm/npm" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">npm</a> อยู่ยกเว้นถ้าขึ้น Production แล้วจะเปลี่ยนเป็น <a href="https://github.com/yarnpkg/yarn" data-href="https://github.com/yarnpkg/yarn" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">yarn</a> ผมใช้ <a href="https://facebook.github.io/jest/" data-href="https://facebook.github.io/jest/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">jest</a> เป็น testing framework คู่กับ <a href="http://sinonjs.org/" data-href="http://sinonjs.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">sinon</a> ในการทำ spy, stub, mock ด้าน Coding standard ผมใช้ที่ชื่อว่า <a href="https://standardjs.com/" data-href="https://standardjs.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">standard</a> คู่กับ <a href="https://github.com/prettier/prettier" data-href="https://github.com/prettier/prettier" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">prettier</a> ในการจัดฟอร์แมต</p></div></div></section><section name="6939" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="500f" id="500f" class="graf graf--h4 graf--leading">NVM</h4><p name="3d09" id="3d09" class="graf graf--p graf-after--h4">เนื่องจาก Node.js เป็นภาษาที่เปลี่ยนเวอร์ชันค่อนข้างรวดเร็ว ทำให้ผมไม่ได้ลงจาก <a href="https://nodejs.org/en/download/" data-href="https://nodejs.org/en/download/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Installer จากหน้าเว็บหลัก</a> แต่จะใช้ <a href="https://github.com/creationix/nvm" data-href="https://github.com/creationix/nvm" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">nvm</a> แทนที่ช่วยให้สลับเวอร์ชันได้อย่างรวดเร็ว นอกจากการอัพเดตเวอร์ชันแล้วเกิดจากผมเปลี่ยนมาเขียน <a href="https://github.com/serverless/serverless" data-href="https://github.com/serverless/serverless" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Serverless</a> แทน <a href="https://expressjs.com/" data-href="https://expressjs.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">expressjs</a> เรื่องเวอร์ชันจึงสำคัญมากเพราะผู้ให้บริการอย่าง AWS Lambda หรือ Google Cloud Functions ก็ระบุเวอร์ชันเจาะจงเอาไว้</p><p name="19a9" id="19a9" class="graf graf--p graf-after--p">ผมลงผ่าน <a href="https://brew.sh/" data-href="https://brew.sh/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">homebrew</a> ครับ</p><pre name="487b" id="487b" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">$ brew install nvm <br>$ nvm install node # get the latest version <br>$ nvm install --lts # get the latest lts </code></pre><pre name="4bf8" id="4bf8" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code"># set default version to the latest <br>$ nvm alias default node </code></pre><pre name="4d27" id="4d27" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code"># choose version <br>$ nvm use &lt;--lts|node&gt;</code></pre><h4 name="1015" id="1015" class="graf graf--h4 graf-after--pre">NPM, Yarn</h4><p name="fa2e" id="fa2e" class="graf graf--p graf-after--h4">ผมยอมรับเรื่องความเร็วของ yarn มาก แต่ว่ามันชอบมีปัญหากับเครื่องมือพัฒนาที่อยู่ใน “devDependencies” บ่อยครั้ง ผมจึงใช้เฉพาะบน Production เท่านั้น</p><h4 name="5036" id="5036" class="graf graf--h4 graf-after--p">Jest</h4><p name="3bc4" id="3bc4" class="graf graf--p graf-after--h4"><a href="https://facebook.github.io/jest/" data-href="https://facebook.github.io/jest/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">jest</a> เป็นเครื่องมือ Testing framework ที่พัฒนาโดยเฟสบุ๊ค ก่อนหน้านี้ผมใช้ <a href="https://mochajs.org/" data-href="https://mochajs.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">mochajs</a> แต่พบปัญหากับ <a href="https://mochajs.org/#arrow-functions" data-href="https://mochajs.org/#arrow-functions" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Arrow function</a> และปัญหาความเร็วในการรัน หลังเปลี่ยนมาใช้ jest มันตอบโจทย์ส่วนนี้ได้หมด แล้วมี coverage report ในตัวด้วยนะ ปกติผมจะเขียนไว้ใน n<a href="https://docs.npmjs.com/misc/scripts" data-href="https://docs.npmjs.com/misc/scripts" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">pm-scripts</a></p><pre name="9e95" id="9e95" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">{ &quot;scripts&quot;: { &quot;test&quot;: &quot;jest --silent --coverage&quot; } }</code></pre><h4 name="a689" id="a689" class="graf graf--h4 graf-after--pre">Sinon</h4><p name="4309" id="4309" class="graf graf--p graf-after--h4">เป็นเครื่องมือ <a href="https://martinfowler.com/bliki/TestDouble.html" data-href="https://martinfowler.com/bliki/TestDouble.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Test double</a> ที่จำเป็นมากในการเขียน Backend แนว Data-intensive ในแง่ว่าข้อมูลไม่จบแค่ที่เดียว มันมีหลายระบบ หลาย Dependency ภายนอกเข้ามาเกี่ยวข้อง sinon จะช่วยทำหน้าที่ตรงนี้ได้เมื่อเขียนเทส</p><h4 name="ed10" id="ed10" class="graf graf--h4 graf-after--p">Coding standard</h4><p name="1759" id="1759" class="graf graf--p graf-after--h4">ผมใช้ <a href="https://standardjs.com/" data-href="https://standardjs.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">standard</a> มาได้เกือบจะสองปีแล้วด้วยความชอบแนวคิดมีเท่าที่จำเป็น (Single quote, no unused variables, no semicolons) และเพิ่ม <a href="https://github.com/prettier/prettier" data-href="https://github.com/prettier/prettier" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">prettier</a> มาเพื่อช่วยจัดโค้ดให้อ่านง่ายขึ้น และผมใส่ลง <a href="https://docs.npmjs.com/misc/scripts" data-href="https://docs.npmjs.com/misc/scripts" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">npm-scripts</a> เช่นกัน</p><pre name="401b" id="401b" class="graf graf--pre graf-after--p">{<br>  &quot;scripts&quot;: {<br>    &quot;standard&quot;: &quot;standard --fix YOUR_SOURCE/**/*.js&quot;,<br>    &quot;prettier&quot;: &quot;prettier --write --single-quote --no-semi YOUR_SOURCE/**/*.js&quot;,<br>  }<br>}</pre><h3 name="1bcb" id="1bcb" class="graf graf--h3 graf-after--pre">Miscellaneous</h3><ul class="postList"><li name="2053" id="2053" class="graf graf--li graf-after--h3"><a href="https://lodash.com/" data-href="https://lodash.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">lodash</a> เป็น Utility library หลัก</li><li name="523c" id="523c" class="graf graf--li graf-after--li"><a href="http://chaijs.com/" data-href="http://chaijs.com/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">chai</a> เป็น Assertion library เวลาเขียนเทส</li><li name="ca04" id="ca04" class="graf graf--li graf-after--li"><a href="https://github.com/visionmedia/supertest" data-href="https://github.com/visionmedia/supertest" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">supertest</a> เป็น HTTP assertion library เวลาเขียนเทส</li><li name="47a3" id="47a3" class="graf graf--li graf-after--li"><a href="http://bluebirdjs.com/docs/getting-started.html" data-href="http://bluebirdjs.com/docs/getting-started.html" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">bluebird</a> ในการจัดการ Promise ทั้งหลาย แต่ใช้น้อยลงถ้าเขียนเวอร์ชัน 8.x เพราะย้ายมา async/await แล้ว</li><li name="e3a0" id="e3a0" class="graf graf--li graf-after--li"><a href="https://pugjs.org/api/getting-started.html" data-href="https://pugjs.org/api/getting-started.html" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">pug</a> ในการทำ Server-side rendering</li><li name="4b2c" id="4b2c" class="graf graf--li graf-after--li graf--trailing"><a href="https://github.com/motdotla/dotenv" data-href="https://github.com/motdotla/dotenv" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">dotenv</a> ในการสร้าง Configuration file</li></ul></div></div></section><section name="a44a" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="aa0a" id="aa0a" class="graf graf--p graf--leading graf--trailing">ทั้งหมดนี้ก็เป็นเครื่องมือที่ผมใช้เขียน Node.js ครับ แล้วทุกคนใช้อะไรกันบ้าง? วันหลังเล่าให้ผมฟังบ้างสิ สำหรับวันนี้สวัสดีครับ</p></div></div></section><section name="17cc" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="cc23" id="cc23" class="graf graf--p graf--leading graf--trailing"><em class="markup--em markup--p-em">Originally published at </em><a href="https://titipat.github.io/2017/08/06/my-macOS-Nodejs-development-environment.html" data-href="https://titipat.github.io/2017/08/06/my-macOS-Nodejs-development-environment.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">titipat.github.io</em></a><em class="markup--em markup--p-em"> on August 6, 2017.</em></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@titipat" class="p-author h-card">Titipat</a> on <a href="https://medium.com/p/4dadbc36453a"><time class="dt-published" datetime="2017-08-06T00:00:00.000Z">August 6, 2017</time></a>.</p><p><a href="https://medium.com/@titipat/macos-node-js-development-environment-%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B8%9C%E0%B8%A1-4dadbc36453a" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on March 20, 2022.</p></footer></article></body></html>