<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>FAQ ใช้ mysql client cli แบบไม่ต้องใส่อาร์กิวเมนต์ยาวๆ</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">FAQ ใช้ mysql client cli แบบไม่ต้องใส่อาร์กิวเมนต์ยาวๆ</h1>
</header>
<section data-field="subtitle" class="p-summary">
เทอมนี้ผมมีโอกาสได้เป็นผู้ช่วยสอนวิชา Database laboratory แล้วมีน้องนักศึกษาถามหลายรอบว่าจะตั้งค่า mysql client cli…
</section>
<section data-field="body" class="e-content">
<section name="b197" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="d954" id="d954" class="graf graf--figure graf--leading"><img class="graf-image" data-image-id="1*50ob28ykvGObxLaN89TK_A.png" data-width="1854" data-height="352" src="https://cdn-images-1.medium.com/max/800/1*50ob28ykvGObxLaN89TK_A.png"></figure><h3 name="bcb2" id="bcb2" class="graf graf--h3 graf-after--figure graf--title">FAQ ใช้ mysql client cli แบบไม่ต้องใส่อาร์กิวเมนต์ยาวๆ</h3><p name="48fb" id="48fb" class="graf graf--p graf-after--h3">เทอมนี้ผมมีโอกาสได้เป็นผู้ช่วยสอนวิชา Database laboratory แล้วมีน้องนักศึกษาถามหลายรอบว่าจะตั้งค่า mysql client cli ยังไงให้ไม่ต้องใส่อาร์กิวเมนต์ยาว บทความนี้จะอ้างอิงจาก mariadb version 10.2.8 บน macOS นะครับ</p><p name="4b7e" id="4b7e" class="graf graf--p graf-after--p">ก่อนอื่นมารู้จักไฟล์ <a href="https://mariadb.com/kb/en/library/configuring-mariadb-with-mycnf/" data-href="https://mariadb.com/kb/en/library/configuring-mariadb-with-mycnf/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">my.cnf</a> ก่อน ไฟล์นี้ใช้สำหรับการตั้งค่า mysql ทั้ง server และ client โดยมีรายละเอียดดังต่อไปนี้</p><h4 name="9a18" id="9a18" class="graf graf--h4 graf-after--p">ลำดับในการอ่านไฟล์</h4><p name="8354" id="8354" class="graf graf--p graf-after--h4">mariadb จะอ่านไฟล์ my.cnf <a href="https://mariadb.com/kb/en/library/configuring-mariadb-with-mycnf/#location-in-linux-unix-mac" data-href="https://mariadb.com/kb/en/library/configuring-mariadb-with-mycnf/#location-in-linux-unix-mac" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ตามลำดับนี้</a> ตัวอย่างในแมคของผมจะมีการอ่านได้แก่</p><ol class="postList"><li name="1a57" id="1a57" class="graf graf--li graf-after--p">/etc/my.cnf</li><li name="7e52" id="7e52" class="graf graf--li graf-after--li">/etc/mysql/my.cnf</li><li name="0681" id="0681" class="graf graf--li graf-after--li">SYSCONFDIR/my.cnf</li><li name="1afb" id="1afb" class="graf graf--li graf-after--li">$MYSQL_HOME/my.cnf</li><li name="90d0" id="90d0" class="graf graf--li graf-after--li">defaults-extra-file (กรณีเราใส่เป็นอาร์กิวเมนต์เวลาใช้)</li><li name="ca56" id="ca56" class="graf graf--li graf-after--li">~/.my.cnf</li></ol><p name="8de2" id="8de2" class="graf graf--p graf-after--li">ซึ่งผมจะใช้ไฟล์ที่ ~/.my.cnf เป็นหลักเพราะว่าอยู่ในส่วนของผู้ใช้แบบชัดเจน สำหรับวินโดว์สามารถตั้งชื่อ my.ini ได้ กรณีของผมใช้เครื่องส่วนตัวเลยจะวางไว้ที่ C:\my.ini</p><h4 name="4a66" id="4a66" class="graf graf--h4 graf-after--p">กลุ่มการใช้งาน</h4><p name="a550" id="a550" class="graf graf--p graf-after--h4">ภายในไฟล์ my.cnf จะแบ่งส่วนตามกลุ่มการใช้งาน เช่น client คือกลุ่มผู้ใช้ทั้งหมด, client-server คือทั้งผู้ใช้และเซิร์ฟเวอร์, กลุ่ม PROGRAMNAME ตามชื่อโปรแกรมที่เรียกใช้อย่าง mysqldump เป็นต้น</p><p name="dce2" id="dce2" class="graf graf--p graf-after--p">ชื่อของกลุ่มจะถูกเขียนครอบด้วย [] (brackets) ตัวอย่างด้านล่างคือการตั้งค่าเพื่อใช้ mysqldump เชื่อมต่อไปหาโฮส db.example.com ด้วยผู้ใช้ชื่อ dumper</p><pre name="0571" id="0571" class="graf graf--pre graf-after--p">[mysqldump]<br>host=db.example.com<br>user=dumper</pre><h4 name="e379" id="e379" class="graf graf--h4 graf-after--pre">การใช้งาน Group suffix</h4><p name="7a44" id="7a44" class="graf graf--p graf-after--h4">เราสามารถนำกลุ่มการใช้งานมาตั้งชื่อ Group suffix ได้เอง ตัวอย่างเช่น</p><pre name="c182" id="c182" class="graf graf--pre graf-after--p">[clientHOST1]<br>host=host1.example.com<br>user=user1</pre><p name="4ea7" id="4ea7" class="graf graf--p graf-after--pre">จะเป็นการตั้ง Group suffix ชื่อ HOST1 และเรียกใช้จาก client จากนั้นสามารถเรียกใช้ได้ด้วยคำสั่ง</p><pre name="fc82" id="fc82" class="graf graf--pre graf-after--p">mysql --defaults-group-suffix=HOST1</pre><h4 name="ee30" id="ee30" class="graf graf--h4 graf-after--pre">ประยุกต์ใช้</h4><p name="0012" id="0012" class="graf graf--p graf-after--h4">เนื่องจากโจทย์ครั้งนี้คือไม่ต้องการพิมพ์ยาวๆ ดังนั้นผมจะสร้างฟังก์ชันไว้ใน .bash_profile ว่า</p><pre name="7a29" id="7a29" class="graf graf--pre graf-after--p">mycnf () {<br>  mysql --defaults-group-suffix=&quot;$1&quot;<br>}</pre><p name="a277" id="a277" class="graf graf--p graf-after--pre">โดยที่ $1 หมายถึงอาร์กิวเมนต์ตัวแรกนั้นคือชื่อ Group suffix ทำให้ต่อจากนี้สามารถเรียกใช้ได้ง่ายๆ ด้วยคำสั่ง</p><pre name="2747" id="2747" class="graf graf--pre graf-after--p">mycnf HOST1</pre><p name="86c4" id="86c4" class="graf graf--p graf-after--pre graf--trailing">แล้วนี้ก็เป็นเทคนิคการปรับแต่งง่ายๆ เพื่ออำนวยความสะดวกระหว่างการเรียนการสอน สำหรับใครที่ต้องการปรับแต่ง cli client อื่นๆ สามารถอ่านตัวแปรเพิ่มเติมได้<a href="https://mariadb.com/kb/en/library/mysql-command-line-client/" data-href="https://mariadb.com/kb/en/library/mysql-command-line-client/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ที่นี่</a></p></div></div></section><section name="d146" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="01c6" id="01c6" class="graf graf--h4 graf--leading">References</h4><ul class="postList"><li name="45ac" id="45ac" class="graf graf--li graf-after--h4"><a href="https://mariadb.com/kb/en/library/configuring-mariadb-with-mycnf/#location-in-linux-unix-mac" data-href="https://mariadb.com/kb/en/library/configuring-mariadb-with-mycnf/#location-in-linux-unix-mac" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://mariadb.com/kb/en/library/configuring-mariadb-with-mycnf</a></li><li name="1219" id="1219" class="graf graf--li graf-after--li graf--trailing"><a href="https://mariadb.com/kb/en/library/mysql-command-line-client/" data-href="https://mariadb.com/kb/en/library/mysql-command-line-client/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">https://mariadb.com/kb/en/library/mysql-command-line-client/</a></li></ul></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@titipat" class="p-author h-card">Titipat</a> on <a href="https://medium.com/p/7fcf45ad3273"><time class="dt-published" datetime="2017-09-19T06:08:11.851Z">September 19, 2017</time></a>.</p><p><a href="https://medium.com/@titipat/faq-%E0%B9%83%E0%B8%8A%E0%B9%89-mysql-client-cli-%E0%B9%81%E0%B8%9A%E0%B8%9A%E0%B9%84%E0%B8%A1%E0%B9%88%E0%B8%95%E0%B9%89%E0%B8%AD%E0%B8%87%E0%B9%83%E0%B8%AA%E0%B9%88%E0%B8%AD%E0%B8%B2%E0%B8%A3%E0%B9%8C%E0%B8%81%E0%B8%B4%E0%B8%A7%E0%B9%80%E0%B8%A1%E0%B8%99%E0%B8%95%E0%B9%8C%E0%B8%A2%E0%B8%B2%E0%B8%A7%E0%B9%86-7fcf45ad3273" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on March 20, 2022.</p></footer></article></body></html>