<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>macOS PHP development environment ของผม</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">macOS PHP development environment ของผม</h1>
</header>
<section data-field="subtitle" class="p-summary">
ผมเขียน PHP ครั้งสุดท้ายเมื่อต้นปีแต่ก็ยังมีคนมาถามอยู่บ่อยๆ ว่าใน macOS Sierra ผมใช้อะไรบ้าง หลักๆ ผมไม่ได้ใช้ Bundle tool อย่าง MAMP…
</section>
<section data-field="body" class="e-content">
<section name="11b8" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="7c57" id="7c57" class="graf graf--figure graf--leading"><img class="graf-image" data-image-id="1*LXBRe2NPnN1sND4IfhGrhQ.jpeg" data-width="3264" data-height="1086" src="https://cdn-images-1.medium.com/max/800/1*LXBRe2NPnN1sND4IfhGrhQ.jpeg"><figcaption class="imageCaption">เครื่องผมเองแหละ เสียบจนแน่นเลย</figcaption></figure><h3 name="7e13" id="7e13" class="graf graf--h3 graf-after--figure graf--title">macOS PHP development environment ของผม</h3><p name="cac7" id="cac7" class="graf graf--p graf-after--h3 graf--trailing">ผมเขียน PHP ครั้งสุดท้ายเมื่อต้นปีแต่ก็ยังมีคนมาถามอยู่บ่อยๆ ว่าใน macOS Sierra ผมใช้อะไรบ้าง หลักๆ ผมไม่ได้ใช้ Bundle tool อย่าง MAMP, XAMPP แต่จะใช้ PHP built-in server คู่กับ MariaDB ที่ลงจาก homebrew และมี brew-php-switcher คู่กับ docker เป็นเครื่องมือเสริม ด้านการเทสผมใช้ codeception และมีเครื่องมีชื่อ PHP_CodeSniffer เป็นตัวเช็คมาตรระดับ PSR-2 เป็นอันสิ้นสุด</p></div></div></section><section name="eb0b" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="5294" id="5294" class="graf graf--h4 graf--leading">Homebrew</h4><p name="c2ab" id="c2ab" class="graf graf--p graf-after--h4"><a href="https://brew.sh/" data-href="https://brew.sh/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Homebrew</a> เป็นเครื่องมือประเภท Package manager เทียบได้กับ apt-get ของ Ubuntu/Debian, <a href="https://chocolatey.org" data-href="https://chocolatey.org" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">chocolatey</a> ของ Windows</p><p name="1622" id="1622" class="graf graf--p graf-after--p">จากนั้นจะทำการลง <a href="https://docs.brew.sh/brew-tap.html" data-href="https://docs.brew.sh/brew-tap.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Taps (third-party repositories)</a> ที่ชื่อ <a href="https://github.com/Homebrew/homebrew-php" data-href="https://github.com/Homebrew/homebrew-php" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">homebrew-php</a> เพราะว่าเครื่องมืออื่นๆ ของ PHP จะอยู่ที่นี้ด้วยคำสั่ง</p><pre name="0c04" id="0c04" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">$ brew tap homebrew/homebrew-php</code></pre><h4 name="3abe" id="3abe" class="graf graf--h4 graf-after--pre">PHP</h4><p name="c844" id="c844" class="graf graf--p graf-after--h4">PHP ที่ติดมากับเครื่อง macOS ผมเข้าใจว่าเป็น 5.6.x ดังนั้นผมจะลง PHP 7.1 ซึ่งเป็น Current stable (ณ เวลาที่เขียน) โดยคำสั่ง</p><p name="0143" id="0143" class="graf graf--p graf-after--p">สำหรับใครที่ต้องการหาไลบรารี่อื่นๆ สามารถลองหาของเวอร์ชันนั้นได้ ตัวอย่างถ้าจะลง mcrypt บน version 7.1</p><pre name="7300" id="7300" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code"># brew search php71-&lt;LIB_NAME&gt; <br>$ brew install php71-mcrypt</code></pre><p name="3956" id="3956" class="graf graf--p graf-after--pre">เนื่องจากบางครั้งต้องทำงานกับ PHP 5.6 ด้วย การจะนั่งลงใหม่ก็เสียเวลาผมเลยจะใช้เครื่องมือที่ชื่อ brew-php-switcher เพื่อให้สลับได้อย่างรวดเร็ว</p><pre name="8387" id="8387" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">$ brew install brew-php-switcher <br>$ brew install php56 <br>$ brew-php-switcher php71 # set active php to 7.1</code></pre><p name="8f5b" id="8f5b" class="graf graf--p graf-after--pre">แล้วก็ผมไม่อยากยัด composer.phar เข้าไปใน Code repository ด้วยดังนั้นผมจะลง composer ไว้ที่เครื่องตัวเองเลย</p><p name="7162" id="7162" class="graf graf--p graf-after--p">แล้วเวลาใช้งานถ้านอกจาก Laravel ที่เรียก Built-in web server ด้วย artisan ผมจะใช้</p><pre name="7681" id="7681" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">$ php -S localhost:8080 -t work_dir/</code></pre><h4 name="c5c4" id="c5c4" class="graf graf--h4 graf-after--pre">Docker</h4><p name="4c03" id="4c03" class="graf graf--p graf-after--h4">บางงานที่ไม่ได้ทำ Continuous integration (CI), Continuous Deployment (CD) pipeline เอาไว้ยังอาจจะต้องนั่ง build, push มืออยู่เลยต้องลงติดไว้กับเครื่องมือ Container แห่งยุค</p><h4 name="3ba4" id="3ba4" class="graf graf--h4 graf-after--p">MySQL server</h4><p name="f5ce" id="f5ce" class="graf graf--p graf-after--h4">ผมชอบใช้ MariaDB มากกว่า MySQL ทั้งในแง่ของเทคนิค(ซึ่งจะไม่อธิบายตรงนี้เพราะยาวแน่) และความชอบส่วนตัวดังนั้นลงๆ ไปเถอะ</p><p name="09cd" id="09cd" class="graf graf--p graf-after--p">ตรงนี้เราเลือกได้ว่าจะให้มัน Auto start ทุกครั้งที่เปิดเครื่องไหมด้วยเครื่องมือ <a href="https://github.com/Homebrew/homebrew-services" data-href="https://github.com/Homebrew/homebrew-services" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">homebrew-services</a></p><pre name="4cd7" id="4cd7" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code"># to enable auto start <br>$ brew services start </code></pre><pre name="ae24" id="ae24" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code"># to run without auto start <br>$ brew services run mysql <br># or <br>$ mysql.server start </code></pre><pre name="11ac" id="11ac" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code"># to disable auto start <br>$ brew services stop mysql</code></pre><h4 name="36eb" id="36eb" class="graf graf--h4 graf-after--pre">Codeception</h4><p name="6404" id="6404" class="graf graf--p graf-after--h4">ตัวนี้เป็น Testing framework ที่ผมว่าครบเลยตัวหนึ่ง ผมจะลงผ่าน homebrew ด้วย</p><pre name="cf79" id="cf79" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">$ brew install codeception</code></pre><p name="7003" id="7003" class="graf graf--p graf-after--pre">แต่เวลาเรียกใช้จะเป็น</p><pre name="ca0a" id="ca0a" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">$ codecept run</code></pre><h4 name="d5a0" id="d5a0" class="graf graf--h4 graf-after--pre">PHP_CodeSniffer</h4><p name="b09a" id="b09a" class="graf graf--p graf-after--h4">เป็นเครื่องมือที่ช่วยตรวจหาการฝ่าฝืน Coding standard ที่ในทีมมีการตกลงกันไว้แล้ว จริงๆ มันมีเครื่องมืออีกตัวชื่อ phpcbf ที่ช่วยแก้ให้เราเองแต่ผมไม่ได้เพราะอยากจะฝึกแก้ด้วยตัวเองให้เป็นนิสัย ผมมักใช้คู่กับ <a href="http://www.php-fig.org/psr/psr-2/" data-href="http://www.php-fig.org/psr/psr-2/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">PSR-2</a></p><pre name="5101" id="5101" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code"># to install <br>$ brew install php-code-sniffer </code></pre><pre name="1df6" id="1df6" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code"># to use <br>$ phpcs --standard=PSR2 your_files/</code></pre><p name="5487" id="5487" class="graf graf--p graf-after--pre graf--trailing">ทั้งหมดนี้เขียนสดตามที่จำได้โดยไม่ลองทำตาม ตรงไหนติดขัดทักเข้ามาได้ครับ แล้วพบกันใหม่</p></div></div></section><section name="a28b" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="b403" id="b403" class="graf graf--p graf--leading graf--trailing"><em class="markup--em markup--p-em">Originally published at </em><a href="https://titipat.github.io/2017/08/03/my-macOS-PHP-development-environment.html" data-href="https://titipat.github.io/2017/08/03/my-macOS-PHP-development-environment.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">titipat.github.io</em></a><em class="markup--em markup--p-em"> on August 3, 2017.</em></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@titipat" class="p-author h-card">Titipat</a> on <a href="https://medium.com/p/de6ddca7c70b"><time class="dt-published" datetime="2017-08-03T00:00:00.000Z">August 3, 2017</time></a>.</p><p><a href="https://medium.com/@titipat/macos-php-development-environment-%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B8%9C%E0%B8%A1-de6ddca7c70b" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on March 20, 2022.</p></footer></article></body></html>